<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thrive X Fitness API Interface</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    :root {
      --primary: #1ECBE1;
      --highlight: #E1341E;
      --dark: #333333;
      --light: #f8f9fa;
      --success: #28a745;
      --warning: #ffc107;
      --error: #dc3545;
      --protein: #28a745;
      --carbs: #ffc107;
      --fat: #dc3545;
      --sodium: #6c757d;
      --trans-fat: #ff6b6b;
      --gradient-green: linear-gradient(135deg, #28a745, #218838);
      --gradient-yellow: linear-gradient(135deg, #ffc107, #e0a800);
      --gradient-red: linear-gradient(135deg, #dc3545, #c82333);
      --shadow: 0 4px 15px rgba(0,0,0,0.2);
      --gradient-bg: linear-gradient(135deg, #1ECBE1, #0da8bc);
      --high-quality: #28a745;
      --medium-quality: #ffc107;
      --low-quality: #dc3545;
      --remedy-color: #6b48ff;
      --remedy-light: #f0ebff;
      --oneminute-color: #2196f3;
      --sebi-color: #9c27b0;
      --sidebar-width: 260px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--dark);
      line-height: 1.6;
      background-color: #f9f9f9;
      display: flex;
      min-height: 100vh;
    }
    
    /* Sidebar Styles */
    .sidebar {
      width: var(--sidebar-width);
      background-color: var(--light);
      border-right: 1px solid #ddd;
      padding: 20px 0;
      height: 100vh;
      position: fixed;
      overflow-y: auto;
      z-index: 100;
    }
    
    .sidebar-logo {
      text-align: center;
      margin-bottom: 20px;
      padding: 0 20px;
    }
    
    .sidebar-logo img {
      max-width: 100%;
      height: auto;
    }
    
    .sidebar-logo h1 {
      font-size: 1.8rem;
      background: linear-gradient(90deg, var(--primary), var(--highlight));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
    }
    
    .sidebar-section {
      margin-bottom: 20px;
    }
    
    .sidebar-title {
      font-size: 0.85rem;
      text-transform: uppercase;
      color: #777;
      padding: 0 20px;
      margin-bottom: 10px;
    }
    
    .sidebar-item {
      display: block;
      padding: 10px 20px;
      color: var(--dark);
      text-decoration: none;
      border-left: 3px solid transparent;
      transition: all 0.2s ease;
      font-size: 0.95rem;
    }
    
    .sidebar-item:hover, .sidebar-item.active {
      background-color: rgba(30, 203, 225, 0.1);
      border-left-color: var(--primary);
      color: var(--primary);
    }
    
    .highlight-item {
      background-color: rgba(225, 52, 30, 0.1);
      font-weight: bold;
      color: var(--highlight) !important;
      border-left: 3px solid var(--highlight) !important;
    }
    
    .highlight-item:hover {
      background-color: rgba(225, 52, 30, 0.2);
    }
    
    .main-container {
      flex: 1;
      margin-left: var(--sidebar-width);
      padding: 2rem 1rem;
      width: calc(100% - var(--sidebar-width));
    }
    
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .page-title {
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 2rem;
      color: var(--primary);
    }
    .tab-navigation {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 2rem;
      justify-content: center;
    }
    .tab-button {
      padding: 10px 20px;
      background-color: #f0f0f0;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .tab-button:hover {
      background-color: #e0e0e0;
      transform: translateY(-2px);
    }
    .tab-button.active {
      background-color: var(--primary);
      color: white;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .api-card {
      background-color: white;
      border-radius: 12px;
      box-shadow: var(--shadow);
      padding: 2rem;
      margin-bottom: 2rem;
      transition: transform 0.3s ease;
    }
    .api-card:hover {
      transform: translateY(-5px);
    }
    .api-card h2 {
      margin-bottom: 1rem;
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 0.5rem;
    }
    .api-card p {
      margin-bottom: 1.5rem;
    }
    .form-group {
      margin-bottom: 1.5rem;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    input, select, textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-family: inherit;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
    input:focus, select:focus, textarea:focus {
      border-color: var(--primary);
      outline: none;
    }
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .checkbox-item input {
      width: auto;
    }
    .height-group {
      display: flex;
      gap: 10px;
    }
    .height-group input {
      width: 50%;
    }
    .submit-button {
      background-color: var(--highlight);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 24px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .submit-button:hover {
      background-color: #c42a15;
      transform: translateY(-2px);
    }
    .result-container {
      margin-top: 2rem;
      padding: 1.5rem;
      background-color: #f7f7f7;
      border-radius: 12px;
      display: none;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .result-container.visible {
      display: block;
    }
    .result-header {
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }
    .result-title {
      font-weight: 600;
      color: var(--dark);
      font-size: 1.5rem;
    }
    .status-badge {
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }
    .status-success {
      background-color: rgba(40, 167, 69, 0.2);
      color: var(--success);
    }
    .status-error {
      background-color: rgba(220, 53, 69, 0.2);
      color: var(--error);
    }
    .result-content {
      padding: 1.5rem;
      background-color: white;
      border-radius: 8px;
      border: 1px solid #eee;
      max-height: 600px;
      overflow-y: auto;
    }
    .result-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      transition: transform 0.3s ease;
    }
    .result-card:hover {
      transform: translateY(-3px);
    }
    .result-card h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    .subscription-notice {
      background-color: rgba(255, 193, 7, 0.2);
      border-left: 4px solid var(--warning);
      padding: 1rem;
      margin-bottom: 1.5rem;
      border-radius: 4px;
    }
    .subscription-button {
      display: inline-block;
      background-color: var(--primary);
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: 600;
      margin-top: 10px;
      transition: all 0.3s ease;
    }
    .subscription-button:hover {
      background-color: #17a2b8;
      transform: translateY(-2px);
    }
    .auth-container {
      margin-bottom: 1.5rem;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      padding: 1rem;
    }
    
    .api-key-container {
      display: flex;
      gap: 10px;
      margin-bottom: 0.75rem;
    }
    
    .api-limits {
      font-size: 0.8rem;
      color: #666;
      margin-top: 0.5rem;
    }
    
    .plan-card {
      position: relative;
      padding: 1.5rem;
      border-radius: 12px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: white;
      overflow: hidden;
    }
    
    .plan-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    
    .plan-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: var(--gradient-bg);
    }
    
    .plan-badge {
      position: absolute;
      top: -3px;
      right: -3px;
      background-color: var(--highlight);
      color: white;
      padding: 8px 15px;
      border-radius: 0 0 0 12px;
      font-size: 0.8rem;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .plan-name {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
      color: var(--dark);
    }
    
    .plan-price {
      font-size: 2rem;
      font-weight: bold;
      margin: 1rem 0;
      color: var(--primary);
    }
    
    .plan-price span {
      font-size: 1rem;
      font-weight: normal;
      color: #888;
    }
    
    .plan-features {
      list-style: none;
      padding: 0;
      margin: 1.5rem 0;
      text-align: left;
    }
    
    .plan-features li {
      padding: 8px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .plan-features li:last-child {
      border-bottom: none;
    }
    
    .plan-features li i {
      margin-right: 8px;
      color: var(--success);
    }
    
    .plan-features li.unavailable i {
      color: #ccc;
    }
    
    .plan-select-btn {
      display: block;
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: var(--gradient-bg);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    
    .plan-select-btn:hover {
      transform: translateY(-2px);
    }
    
    .navigation-links {
      text-align: center;
      margin-top: 3rem;
      padding-top: 1.5rem;
      border-top: 1px solid #eee;
    }
    .navigation-links a {
      color: var(--primary);
      text-decoration: none;
      margin: 0 15px;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    .navigation-links a:hover {
      color: var(--highlight);
    }
    .nutrition-table, .result-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1.5rem;
      background-color: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .nutrition-table th, .nutrition-table td, .result-table th, .result-table td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: left;
    }
    .nutrition-table th, .result-table th {
      background-color: var(--primary);
      color: white;
      font-weight: 600;
    }
    .nutrition-table tr:nth-child(even), .result-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    .nutrition-table tr:hover, .result-table tr:hover {
      background-color: #f1f1f1;
    }
    .result-title-large {
      text-align: center;
      color: var(--primary);
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }
    .result-subtitle {
      text-align: center;
      color: var(--dark);
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
    }
    .result-table-container {
      margin-bottom: 1.5rem;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .result-summary {
      padding: 1rem;
      background-color: #f9f9f9;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-bottom: 1.5rem;
    }
    .result-summary h3 {
      text-align: center;
      margin-bottom: 1rem;
      color: var(--primary);
      font-size: 1.3rem;
    }
    .summary-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1rem;
    }
    .summary-table th, .summary-table td {
      padding: 8px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    .summary-table th {
      font-weight: 600;
      color: var(--dark);
      width: 60%;
    }
    .pie-chart-container { 
      margin: 20px auto; 
      max-width: 400px; 
      padding: 15px; 
      background: white; 
      border-radius: 8px; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
    }
    .pie-chart-title { 
      color: var(--dark); 
      text-align: center; 
      font-size: 1.2rem; 
      margin-bottom: 15px;
      font-weight: bold;
    }
    .action-buttons {
      display: flex;
      gap: 8px;
    }
    .action-buttons button {
      padding: 6px 12px;
      background-color: #f0f0f0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s ease;
    }
    .action-buttons button:hover {
      background-color: #e0e0e0;
    }
    .expandable {
      margin-top: 1rem;
      border: 1px solid #eee;
      border-radius: 8px;
      overflow: hidden;
    }
    .expandable-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      background-color: #f9f9f9;
      cursor: pointer;
    }
    .expand-btn {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .expandable-content {
      padding: 15px;
      display: none;
    }
    .expandable.active .expandable-content {
      display: block;
    }
    .ingredient-card .label {
      font-weight: 600;
      color: var(--dark);
      margin-right: 0.5rem;
    }
    .ingredient-card .definition {
      background: #f0f9ff;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .ingredient-card .layman {
      background: #fff3e6;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .ingredient-card .production {
      background: #f4f4f4;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .ingredient-card .example {
      background: #e6ffe6;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .fuzzy-notice {
      background-color: #fff3e6;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 1rem;
      color: #e67e22;
      font-style: italic;
    }
    .health-quality-high {
      color: var(--high-quality);
      font-weight: bold;
    }
    .health-quality-medium {
      color: var(--medium-quality);
      font-weight: bold;
    }
    .health-quality-low {
      color: var(--low-quality);
      font-weight: bold;
    }
    .remedy-card {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
      overflow: hidden;
      border-left: 6px solid var(--remedy-color);
    }
    .remedy-header {
      background-color: var(--remedy-light);
      padding: 15px 20px;
      border-bottom: 1px solid #eee;
    }
    .remedy-title {
      font-size: 1.4rem;
      color: var(--remedy-color);
      margin-bottom: 5px;
      font-weight: 600;
    }
    .remedy-source {
      font-size: 0.9rem;
      color: #666;
      font-style: italic;
    }
    .remedy-body {
      padding: 20px;
    }
    .remedy-section {
      margin-bottom: 15px;
    }
    .remedy-section:last-child {
      margin-bottom: 0;
    }
    .remedy-section-title {
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 8px;
      display: block;
      font-size: 1.1rem;
    }
    .remedy-rating {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      gap: 10px;
    }
    .remedy-stars {
      color: goldenrod;
      font-size: 1.2rem;
    }
    .remedy-level {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.85rem;
      background-color: var(--remedy-light);
      color: var(--remedy-color);
      font-weight: 500;
    }
    .remedy-list {
      margin: 0;
      padding-left: 25px;
    }
    .remedy-list li {
      margin-bottom: 8px;
    }
    .remedy-list li:last-child {
      margin-bottom: 0;
    }
    .remedy-warning {
      background-color: rgba(220, 53, 69, 0.1);
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
    }
    .remedy-warning-title {
      color: var(--error);
      font-weight: 600;
      margin-bottom: 5px;
      display: block;
    }
    .remedy-notes {
      background-color: #f9f9f9;
      padding: 12px;
      border-radius: 8px;
      margin-top: 15px;
      font-style: italic;
    }
    .dietary-changes {
      background-color: #e8f5e9;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      border-left: 4px solid var(--high-quality);
    }
    .dietary-changes-title {
      color: var(--high-quality);
      font-weight: 600;
      margin-bottom: 10px;
      display: block;
    }
    .oneminute-cure {
      background-color: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      border-left: 4px solid var(--oneminute-color);
    }
    .oneminute-cure-title {
      color: var(--oneminute-color);
      font-weight: 600;
      margin-bottom: 10px;
      display: block;
    }
    .additional-approaches {
      background-color: #f3e5f5;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      border-left: 4px solid var(--sebi-color);
    }
    .additional-approaches-title {
      color: var(--sebi-color);
      font-weight: 600;
      margin-bottom: 10px;
      display: block;
    }
    .sebi-approach {
      background-color: #f5e9ff;
      padding: 15px;
      margin-top: 20px;
      border-radius: 8px;
      border-left: 4px solid var(--sebi-color);
    }
    .sebi-approach-title {
      color: var(--sebi-color);
      font-weight: 600;
      margin-bottom: 10px;
      display: block;
    }
    .medical-notice {
      background-color: #ffe8e8;
      border: 1px solid #ffcccc;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
    }
    .menu-toggle {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--primary);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border: none;
      cursor: pointer;
      z-index: 100;
    }
    
    .ingredient-card {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
      overflow: hidden;
      padding: 0;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      border-bottom: 1px solid #eee;
    }
    .card-header h3 {
      margin: 0;
      color: var(--primary);
    }
    .tag-section {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 10px 20px;
      background-color: #f9f9f9;
    }
    .ingredient-tag {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    .ingredient-tag.category {
      background-color: #e3f2fd;
      color: #1976d2;
    }
    .ingredient-tag.origin {
      background-color: #e8f5e9;
      color: #388e3c;
    }
    .ingredient-tag.safety {
      background-color: #fff3e0;
      color: #f57c00;
    }
    .ingredient-tag.safety.moderate {
      background-color: #fff3e0;
      color: #f57c00;
    }
    .found-in {
      margin-top: 1rem;
    }
    /* Quality Marker Styles */
    .quality-marker {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
      vertical-align: middle;
    }
    .quality-high {
      background-color: var(--high-quality);
    }
    .quality-medium {
      background-color: var(--medium-quality);
    }
    .quality-low {
      background-color: var(--low-quality);
    }
    .result-table td:first-child {
      display: flex;
      align-items: center;
    }
    
    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        border-right: none;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }
      
      .main-container {
        margin-left: 0;
        width: 100%;
      }
      
      .tab-navigation {
        flex-direction: column;
        gap: 5px;
      }
      .tab-button {
        width: 100%;
        text-align: center;
      }
      .api-card {
        padding: 1.5rem;
      }
      .pie-chart-container {
        max-width: 100%;
      }
      .height-group {
        flex-direction: column;
      }
      .result-header {
        flex-direction: column;
        align-items: flex-start;
      }
      .action-buttons {
        width: 100%;
        justify-content: space-between;
        margin-top: 10px;
      }
      
      .menu-toggle {
        display: flex;
      }
      
      .sidebar.collapsed {
        display: none;
      }
    }
    .plan-savings {
      color: var(--highlight);
      font-size: 0.9rem;
      font-weight: bold;
      margin-bottom: 1rem;
    }
    .billing-toggle {
      margin-bottom: 1.5rem;
    }
    .billing-btn {
      transition: all 0.3s ease;
      outline: none;
    }
    .billing-btn.active {
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .billing-btn:not(.active) {
      color: #555;
    }
  </style>
</head>
<body>
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-logo">
      <h1>Thrive X Fitness API</h1>
    </div>
    
    <div class="sidebar-section">
      <div class="sidebar-title">Navigation</div>
      <a href="/fitness" class="sidebar-item">Home</a>
      <a href="/fitness/docs" class="sidebar-item">API Documentation</a>
      <a href="https://thrivexdna.com" class="sidebar-item">Thrive X DNA Website</a>
      <a href="#" id="sidebar-subscribe-btn" class="sidebar-item highlight-item">Subscribe to API</a>
    </div>
    
    <div class="sidebar-section">
      <div class="sidebar-title">API Endpoints</div>
      <a href="#" class="sidebar-item tab-trigger" data-tab="workout">Generate Workout Plan</a>
      <a href="#" class="sidebar-item tab-trigger" data-tab="exercise">Exercise Details</a>
      <a href="#" class="sidebar-item tab-trigger" data-tab="nutrition-meal">Nutrition & Meal Plan</a>
      <a href="#" class="sidebar-item tab-trigger" data-tab="food">Analyze Food Plate</a>
      <a href="#" class="sidebar-item tab-trigger" data-tab="food-ingredient-directory">Food Ingredient Directory</a>
      <a href="#" class="sidebar-item tab-trigger" data-tab="natural-remedies">Natural Remedies</a>
    </div>
    
    <div class="sidebar-section">
      <div class="sidebar-title">Legal Information</div>
      <a href="/fitness/docs#terms-of-service" class="sidebar-item">Terms of Service</a>
      <a href="/fitness/docs#privacy-policy" class="sidebar-item">Privacy Policy</a>
      <a href="/fitness/docs#subscription-terms" class="sidebar-item">Subscription Terms</a>
      <a href="/fitness/docs#medical-disclaimer" class="sidebar-item">Medical Disclaimer</a>
    </div>
  </aside>
  
  <button class="menu-toggle" id="menu-toggle">☰</button>
  
  <div class="main-container">
    <div class="container">
      <div class="auth-container">
        <div class="api-key-container">
          <input type="text" id="api-key" placeholder="Enter your API key" />
          <button id="save-api-key" class="submit-button">Save</button>
        </div>
        <div class="api-limits">
          Need access? <a href="#" id="auth-subscribe-btn">Subscribe</a> to our Fitness API service
        </div>
      </div>
      
      <div class="units-toggle">
        <label for="unit-system">Unit System:</label>
        <select id="unit-system">
          <option value="imperial">US (lbs, ft/in)</option>
          <option value="metric">Metric (kg, cm)</option>
        </select>
      </div>
      <h2 class="page-title">Select an API Endpoint to Use</h2>
      <div class="tab-navigation">
        <button class="tab-button active" data-tab="workout">Generate Workout Plan</button>
        <button class="tab-button" data-tab="exercise">Exercise Details</button>
        <button class="tab-button" data-tab="nutrition-meal">Nutrition & Meal Plan</button>
        <button class="tab-button" data-tab="food">Analyze Food Plate</button>
        <button class="tab-button" data-tab="food-ingredient-directory">Food Ingredient Directory</button>
        <button class="tab-button" data-tab="natural-remedies">Natural Remedies</button>
      </div>
      <div id="workout-tab" class="tab-content active">
        <div class="api-card">
          <h2>Generate Workout Plan</h2>
          <p>Create a personalized workout plan based on your goals, fitness level, and preferences.</p>
          <form id="workout-form">
            <div class="form-group">
              <label for="goal">Fitness Goal:</label>
              <select id="goal" name="goals" required>
                <option value="">Select your goal</option>
                <option value="weight_loss">Weight Loss</option>
                <option value="muscle_gain">Muscle Gain</option>
                <option value="endurance">Endurance</option>
                <option value="strength">Strength</option>
                <option value="overall_fitness">Overall Fitness</option>
              </select>
            </div>
            <div class="form-group">
              <label for="fitness_level">Fitness Level:</label>
              <select id="fitness_level" name="fitnessLevel" required>
                <option value="">Select your fitness level</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
              </select>
            </div>
            <div class="form-group">
              <label>Workout Preferences:</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input type="checkbox" id="weight_training" name="preferences" value="weight_training">
                  <label for="weight_training">Weight Training</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="cardio" name="preferences" value="cardio">
                  <label for="cardio">Cardio</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="hiit" name="preferences" value="hiit">
                  <label for="hiit">HIIT</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="bodyweight" name="preferences" value="bodyweight">
                  <label for="bodyweight">Bodyweight</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="yoga" name="preferences" value="yoga">
                  <label for="yoga">Yoga</label>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>Body Focus (Optional):</label>
              <select id="body_focus" name="bodyFocus">
                <option value="">Any (Default)</option>
                <option value="full_body">Full Body</option>
                <option value="upper_body">Upper Body</option>
                <option value="lower_body">Lower Body</option>
                <option value="alternating">Alternating Upper/Lower</option>
              </select>
            </div>
            <div class="form-group">
              <label>Muscle Group Focus (Optional):</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input type="checkbox" id="chest" name="muscleGroups" value="chest">
                  <label for="chest">Chest</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="back" name="muscleGroups" value="back">
                  <label for="back">Back</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="shoulders" name="muscleGroups" value="shoulders">
                  <label for="shoulders">Shoulders</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="arms" name="muscleGroups" value="arms">
                  <label for="arms">Arms</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="core" name="muscleGroups" value="core">
                  <label for="core">Core</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="legs" name="muscleGroups" value="legs">
                  <label for="legs">Legs</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="glutes" name="muscleGroups" value="glutes">
                  <label for="glutes">Glutes</label>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>Include Warm-up & Cool-down:</label>
              <select id="include_warmup_cooldown" name="includeWarmupCooldown">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </div>
            <div class="form-group">
              <label for="days_per_week">Days Per Week:</label>
              <select id="days_per_week" name="daysPerWeek" required>
                <option value="">Select days</option>
                <option value="1">1 day</option>
                <option value="2">2 days</option>
                <option value="3">3 days</option>
                <option value="4">4 days</option>
                <option value="5">5 days</option>
                <option value="6">6 days</option>
                <option value="7">7 days</option>
              </select>
            </div>
            <div class="form-group">
              <label for="session_duration">Session Duration (minutes):</label>
              <select id="session_duration" name="sessionDuration" required>
                <option value="">Select duration</option>
                <option value="15">15 minutes</option>
                <option value="30">30 minutes</option>
                <option value="45">45 minutes</option>
                <option value="60">60 minutes</option>
                <option value="90">90 minutes</option>
                <option value="120">120 minutes</option>
              </select>
            </div>
            <div class="form-group">
              <label for="plan_duration_weeks">Plan Duration (weeks):</label>
              <select id="plan_duration_weeks" name="planDurationWeeks" required>
                <option value="">Select duration</option>
                <option value="1">1 week</option>
                <option value="2">2 weeks</option>
                <option value="3">3 weeks</option>
              </select>
            </div>
            <button type="submit" class="submit-button">Generate Workout Plan</button>
          </form>
          <div id="workout-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Your Personalized Workout Plan</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('workout-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('workout-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content"></div>
          </div>
        </div>
      </div>
      
      <div id="exercise-tab" class="tab-content">
        <div class="api-card">
          <h2>Exercise Details</h2>
          <p>Get detailed information about a specific exercise, including proper form and target muscles.</p>
          <form id="exercise-form">
            <div class="form-group">
              <label for="exercise_name">Exercise Name:</label>
              <input type="text" id="exercise_name" name="exerciseId" placeholder="e.g. Bench Press, Squat, Deadlift" required>
            </div>
            <div class="form-group">
              <label for="include_variations">Include Variations:</label>
              <select id="include_variations" name="includeVariations">
                <option value="true">Yes</option>
                <option value="false">No</option>
              </select>
            </div>
            <button type="submit" class="submit-button">Get Exercise Details</button>
          </form>
          <div id="exercise-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Exercise Details</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('exercise-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('exercise-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content"></div>
          </div>
        </div>
      </div>
      
      <div id="nutrition-meal-tab" class="tab-content">
        <div class="api-card">
          <h2>Nutrition & Meal Plan</h2>
          <p>Get personalized nutrition advice and a custom meal plan tailored to your goals, preferences, and needs.</p>
          <form id="nutrition-meal-form">
            <div class="form-group">
              <label for="nutrition_goal">Nutrition Goal:</label>
              <select id="nutrition_goal" name="goals" required>
                <option value="">Select your goal</option>
                <option value="weight_loss">Weight Loss</option>
                <option value="muscle_gain">Muscle Gain</option>
                <option value="maintenance">Maintenance</option>
                <option value="performance">Sports Performance</option>
                <option value="health">General Health</option>
              </select>
            </div>
            <div class="form-group">
              <label for="diet_type">Diet Type:</label>
              <select id="diet_type" name="dietType" required>
                <option value="">Select diet type</option>
                <option value="omnivore">Omnivore</option>
                <option value="carnivore">Carnivore</option>
                <option value="vegetarian">Vegetarian</option>
                <option value="vegan">Vegan</option>
                <option value="keto">Keto</option>
                <option value="paleo">Paleo</option>
              </select>
            </div>
            <div class="form-group">
              <label for="age">Age:</label>
              <input type="number" id="age" name="age" min="18" max="120" placeholder="Enter your age" required>
            </div>
            <div class="form-group">
              <label for="weight" id="weight-label">Weight (lbs):</label>
              <input type="number" id="weight" name="weight" min="66" max="660" step="0.1" placeholder="Enter your weight in lbs" required>
            </div>
            <div class="form-group imperial-height">
              <label>Height (ft/in):</label>
              <div class="height-group">
                <input type="number" id="height_feet" name="heightFeet" min="3" max="8" placeholder="Feet" required>
                <input type="number" id="height_inches" name="heightInches" min="0" max="11" placeholder="Inches" required>
              </div>
            </div>
            <div class="form-group metric-height" style="display: none;">
              <label for="height_cm">Height (cm):</label>
              <input type="number" id="height_cm" name="heightCm" min="100" max="250" placeholder="Enter your height in cm">
            </div>
            <div class="form-group">
              <label for="gender">Gender:</label>
              <select id="gender" name="gender" required>
                <option value="">Select gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="activity_level">Activity Level:</label>
              <select id="activity_level" name="activityLevel" required>
                <option value="">Select activity level</option>
                <option value="sedentary">Sedentary</option>
                <option value="light">Lightly active</option>
                <option value="moderate">Moderately active</option>
                <option value="very">Very active</option>
                <option value="extra">Extra active</option>
              </select>
            </div>
            <div class="form-group">
              <label>Food Allergies:</label>
              <div class="checkbox-group">
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_peanuts" name="allergies" value="peanuts">
                  <label for="allergy_peanuts">Peanuts</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_dairy" name="allergies" value="dairy">
                  <label for="allergy_dairy">Dairy</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_gluten" name="allergies" value="gluten">
                  <label for="allergy_gluten">Gluten</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_shellfish" name="allergies" value="shellfish">
                  <label for="allergy_shellfish">Shellfish</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_soy" name="allergies" value="soy">
                  <label for="allergy_soy">Soy</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" id="allergy_nuts" name="allergies" value="tree nuts">
                  <label for="allergy_nuts">Tree Nuts</label>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="religious_preferences">Religious Preferences:</label>
              <select id="religious_preferences" name="religiousPreferences">
                <option value="">None</option>
                <option value="halal">Halal</option>
                <option value="kosher">Kosher</option>
                <option value="hindu">Hindu (No Beef)</option>
                <option value="buddhist">Buddhist (Vegetarian)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="calories">Daily Calorie Target:</label>
              <input type="number" id="calories" name="calorieTarget" min="1000" max="5000" placeholder="e.g. 2000" required>
            </div>
            <div class="form-group">
              <label for="meals_per_day">Meals Per Day:</label>
              <select id="meals_per_day" name="mealsPerDay" required>
                <option value="">Select number of meals</option>
                <option value="1">1 meal</option>
                <option value="2">2 meals</option>
                <option value="3">3 meals</option>
                <option value="4">4 meals</option>
                <option value="5">5 meals</option>
                <option value="6">6 meals</option>
              </select>
            </div>
            <div class="form-group">
              <label for="days">Number of Days:</label>
              <select id="days" name="numberOfDays" required>
                <option value="">Select number of days</option>
                <option value="1">1 day</option>
                <option value="3">3 days</option>
                <option value="7">7 days</option>
                <option value="14">14 days</option>
              </select>
            </div>
            <button type="submit" class="submit-button">Generate Nutrition & Meal Plan</button>
          </form>
          <div id="nutrition-meal-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Your Nutrition & Meal Plan</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('nutrition-meal-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('nutrition-meal-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content"></div>
          </div>
        </div>
      </div>
      
      <div id="food-tab" class="tab-content">
        <div class="api-card">
          <h2>Analyze Food Plate</h2>
          <p>Upload an image of your food plate to analyze its nutritional content and health quality.</p>
          <form id="food-form" enctype="multipart/form-data">
            <div class="form-group">
              <label for="food_image">Upload Food Image:</label>
              <input type="file" id="food_image" name="food_image" accept="image/*" required>
              <div class="image-preview" id="food-image-preview"></div>
            </div>
            <div class="form-group">
              <label for="cooking_oil">Adjust Cooking Oil (optional):</label>
              <select id="cooking_oil" name="cooking_oil">
                <option value="">Detect Automatically</option>
                <option value="tallow">Tallow</option>
                <option value="lard">Lard</option>
                <option value="butter">Butter</option>
                <option value="ghee">Ghee</option>
                <option value="olive_oil">Olive Oil</option>
                <option value="coconut_oil">Coconut Oil</option>
                <option value="avocado_oil">Avocado Oil</option>
                <option value="canola_oil">Canola Oil</option>
                <option value="vegetable_oil">Vegetable Oil</option>
                <option value="sunflower_oil">Sunflower Oil</option>
                <option value="soybean_oil">Soybean Oil</option>
                <option value="corn_oil">Corn Oil</option>
              </select>
            </div>
            <button type="submit" class="submit-button">Analyze Food Plate</button>
          </form>
          <div id="food-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Food Plate Analysis</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('food-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('food-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content"></div>
          </div>
        </div>
      </div>
      
      <div id="food-ingredient-directory-tab" class="tab-content">
        <div class="api-card">
          <h2>Food Ingredient Directory</h2>
          <p>Explore detailed information about food ingredients, chemicals, and label info with insights on daily consumption.</p>
          <form id="food-ingredient-directory-form">
            <div class="form-group">
              <label for="ingredient_search">Search Ingredient:</label>
              <input type="text" id="ingredient_search" name="ingredient" placeholder="e.g., Ascorbic Acid, Sugar" required>
            </div>
            <button type="submit" class="submit-button">Search Ingredients</button>
          </form>
          <div id="food-ingredient-directory-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Food Ingredient Directory Results</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('food-ingredient-directory-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('food-ingredient-directory-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content"></div>
          </div>
        </div>
      </div>
      
      <div id="natural-remedies-tab" class="tab-content">
        <div class="api-card">
          <h2>Natural Remedies & Healing Approaches</h2>
          <p>Explore suggested natural options and ancestral healing approaches for health conditions based on traditional wisdom and holistic perspectives. These are personal recommendations, not medical advice.</p>
          <form id="natural-remedies-form">
            <div class="form-group">
              <label for="symptom">Condition or Health Goal:</label>
              <input type="text" id="symptom" name="symptom" placeholder="e.g., Cancer, Diabetes, Heart Disease, Common Cold, Weight Loss" required>
            </div>
            <div class="form-group">
              <label for="remedy_approach">Preferred Approach:</label>
              <select id="remedy_approach" name="approach">
                <option value="comprehensive">Comprehensive</option>
                <option value="dietary">Ancestral Dietary Changes</option>
                <option value="herbs">Herbs & Traditional Medicine</option>
                <option value="lifestyle">Lifestyle & Environmental Changes</option>
                <option value="supplements">Nutritional Supplements</option>
                <option value="oneminute">One Minute Cure Approach</option>
                <option value="sebi">Dr. Sebi Methodology</option>
              </select>
            </div>
            <button type="submit" class="submit-button">Get Natural Solutions</button>
          </form>
          <div class="medical-notice">
            <p style="margin-bottom: 10px;"><strong>Important Medical Disclaimer:</strong> These remedies and approaches are provided for informational purposes only. They represent traditional or alternative perspectives that have not been evaluated by the FDA.</p>
            <p>Always consult healthcare professionals for medical concerns. See our full <a href="/fitness/docs#medical-disclaimer" target="_blank">Medical Disclaimer</a> for more information.</p>
          </div>
          <div id="natural-remedies-result" class="result-container">
            <div class="result-header">
              <div class="result-title">Natural Healing Solutions</div>
              <div class="action-buttons">
                <button class="copy-btn" onclick="copyResult('natural-remedies-result')">📋 Copy</button>
                <button class="print-btn" onclick="printResult('natural-remedies-result')">🖨️ Print</button>
                <div class="status-badge status-success">Success</div>
              </div>
            </div>
            <div class="result-content">
              <p><em>Note: These are personal recommendations based on traditional wisdom and holistic perspectives, not medical advice. Always consult healthcare professionals for medical concerns.</em></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="subscription-modal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6);">
    <div class="modal-content" style="background-color: #fefefe; margin: 5% auto; padding: 0; border: none; width: 90%; max-width: 1000px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); overflow: hidden;">
      <div style="background: var(--gradient-bg); padding: 20px; color: white; position: relative;">
        <span class="close" style="color: white; position: absolute; right: 20px; top: 15px; font-size: 28px; font-weight: bold; cursor: pointer;">×</span>
        <h2 style="text-align: center; margin: 0; font-size: 2rem;">Choose Your Thrive X Fitness API Plan</h2>
        <p style="text-align: center; margin-top: 10px; opacity: 0.9;">Unlock the power of fitness & nutrition data with our flexible subscription plans</p>
      </div>
      
      <div style="margin: 20px 0; text-align: center;">
        <div class="billing-toggle" style="display: inline-flex; background: #f0f0f0; border-radius: 30px; padding: 5px;">
          <button id="monthly-toggle" class="billing-btn active" style="border: none; background: var(--primary); color: white; padding: 10px 20px; border-radius: 30px; cursor: pointer; font-weight: bold;">Monthly</button>
          <button id="yearly-toggle" class="billing-btn" style="border: none; background: transparent; padding: 10px 20px; border-radius: 30px; cursor: pointer; font-weight: bold;">Yearly (Save 10-20%)</button>
        </div>
      </div>
      
      <div id="monthly-plans" style="padding: 30px 20px; display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Essential</h3>
          <div class="plan-price">$0<span>/month</span></div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 10 requests/month</li>
            <li><i class="fas fa-check"></i> Generate workout plans</li>
            <li><i class="fas fa-check"></i> Basic exercise details</li>
            <li><i class="fas fa-check"></i> Nutrition & meal planning</li>
            <li><i class="fas fa-check"></i> Food plate analysis</li>
            <li><i class="fas fa-check"></i> Ingredient directory</li>
            <li><i class="fas fa-check"></i> Natural remedies</li>
          </ul>
          <button class="plan-select-btn" data-plan="essential" style="background: #5a6268;">Start Free</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid var(--primary); box-shadow: 0 4px 15px rgba(30, 203, 225, 0.15);">
          <div class="plan-badge">POPULAR</div>
          <h3 class="plan-name" style="color: var(--primary);">Core</h3>
          <div class="plan-price">$14.99<span>/month</span></div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 500 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.05/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="core">Select Core</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Elite</h3>
          <div class="plan-price">$49.99<span>/month</span></div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 2,000 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.03/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="elite">Select Elite</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Ultimate</h3>
          <div class="plan-price">$129.99<span>/month</span></div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 5,000 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.02/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="ultimate">Select Ultimate</button>
        </div>
      </div>
      
      <div id="yearly-plans" style="padding: 30px 20px; display: none; flex-wrap: wrap; justify-content: center; gap: 20px;">
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Essential</h3>
          <div class="plan-price">$0<span>/year</span></div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 10 requests/month</li>
            <li><i class="fas fa-check"></i> Generate workout plans</li>
            <li><i class="fas fa-check"></i> Basic exercise details</li>
            <li><i class="fas fa-check"></i> Nutrition & meal planning</li>
            <li><i class="fas fa-check"></i> Food plate analysis</li>
            <li><i class="fas fa-check"></i> Ingredient directory</li>
            <li><i class="fas fa-check"></i> Natural remedies</li>
          </ul>
          <button class="plan-select-btn" data-plan="essential-yearly" style="background: #5a6268;">Start Free</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid var(--primary); box-shadow: 0 4px 15px rgba(30, 203, 225, 0.15);">
          <div class="plan-badge">POPULAR</div>
          <h3 class="plan-name" style="color: var(--primary);">Core</h3>
          <div class="plan-price">$161.89<span>/year</span></div>
          <div class="plan-savings">Save 10% ($17.99)</div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 500 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.05/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="core-yearly">Select Core</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Elite</h3>
          <div class="plan-price">$509.90<span>/year</span></div>
          <div class="plan-savings">Save 15% ($89.98)</div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 2,000 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.03/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="elite-yearly">Select Elite</button>
        </div>
        
        <div class="plan-card" style="flex: 1; min-width: 215px; border: 1px solid #eee;">
          <h3 class="plan-name">Ultimate</h3>
          <div class="plan-price">$1,247.90<span>/year</span></div>
          <div class="plan-savings">Save 20% ($311.98)</div>
          <ul class="plan-features">
            <li><i class="fas fa-check"></i> 5,000 requests/month</li>
            <li><i class="fas fa-check"></i> All features</li>
            <li><i class="fas fa-check"></i> Additional requests at $0.02/ea</li>
          </ul>
          <button class="plan-select-btn" data-plan="ultimate-yearly">Select Ultimate</button>
        </div>
      </div>
      
      <div style="text-align: center; padding: 0 20px 30px; font-size: 0.9rem; color: #666;">
        <p>All plans include access to the API documentation and free updates. No credit card required for the Essential plan. Free plan limited to 1-day plans for workouts and meals.</p>
      </div>
    </div>
  </div>

  <script src="https://js.stripe.com/v3/"></script>
  <script>
    const LB_TO_KG = 0.45359237;
    const IN_TO_CM = 2.54;
    const unitSystemSelect = document.getElementById('unit-system');
    const stripe = Stripe('pk_test_your_stripe_public_key'); // Replace with your actual Stripe public key

    let userProfile = {
      plan: 'essential',
      role: 'user',
      requestsRemaining: 10
    };

    async function fetchUserProfile(apiKey) {
      try {
        const response = await fetch('/api/auth/validate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ apiKey })
        });
        if (!response.ok) throw new Error('Failed to validate API key');
        const data = await response.json();
        userProfile = {
          plan: data.plan || 'essential',
          role: data.role || 'user',
          requestsRemaining: data.requestsRemaining || 10
        };
        localStorage.setItem('userProfile', JSON.stringify(userProfile));
        updateDropdownOptions();
      } catch (error) {
        console.error('Error fetching user profile:', error);
        userProfile = { plan: 'essential', role: 'user', requestsRemaining: 10 };
        localStorage.setItem('userProfile', JSON.stringify(userProfile));
      }
    }

    function updateDropdownOptions() {
      const daysPerWeek = document.getElementById('days_per_week');
      const planDurationWeeks = document.getElementById('plan_duration_weeks');
      const numberOfDays = document.getElementById('days');

      if (userProfile.plan === 'essential' && userProfile.role !== 'admin') {
        daysPerWeek.innerHTML = `
          <option value="">Select days</option>
          <option value="1">1 day</option>
        `;
        planDurationWeeks.innerHTML = `
          <option value="">Select duration</option>
          <option value="1">1 day</option>
        `;
        numberOfDays.innerHTML = `
          <option value="">Select number of days</option>
          <option value="1">1 day</option>
        `;
      } else {
        daysPerWeek.innerHTML = `
          <option value="">Select days</option>
          <option value="1">1 day</option>
          <option value="2">2 days</option>
          <option value="3">3 days</option>
          <option value="4">4 days</option>
          <option value="5">5 days</option>
          <option value="6">6 days</option>
          <option value="7">7 days</option>
        `;
        planDurationWeeks.innerHTML = `
          <option value="">Select duration</option>
          <option value="1">1 week</option>
          <option value="2">2 weeks</option>
          <option value="3">3 weeks</option>
        `;
        numberOfDays.innerHTML = `
          <option value="">Select number of days</option>
          <option value="1">1 day</option>
          <option value="3">3 days</option>
          <option value="7">7 days</option>
          <option value="14">14 days</option>
        `;
      }
    }

    function formatResult(result, endpoint) {
      if (!result) return '<p>No valid data returned.</p>';
      const data = result.data || result;
      if (!data) return '<p>No valid data returned.</p>';
      
      let html = '';
      
      switch (endpoint) {
        case 'generateWorkoutPlan':
          if (!data.days || !Array.isArray(data.days)) {
            return '<p>Invalid workout plan data structure.</p>';
          }
          html = `<div class="result-card">
            <h2 class="result-title-large">${data.name || 'Workout Plan'}</h2>
            <table class="result-table">
              <thead><tr><th>Day</th><th>Exercise</th><th>Sets</th><th>Reps</th><th>Rest (s)</th><th>Muscle Group</th></tr></thead>
              <tbody>`;
          data.days.forEach(day => {
            if (day.exercises && Array.isArray(day.exercises)) {
              day.exercises.forEach(ex => {
                html += `<tr><td>${day.name || 'Day'}</td><td>${ex.name || 'Exercise'}</td><td>${ex.sets || 'N/A'}</td><td>${ex.reps || 'N/A'}</td><td>${ex.restSeconds || 'N/A'}</td><td>${ex.muscleGroup || 'N/A'}</td></tr>`;
              });
            }
          });
          html += `</tbody></table>
            <div class="result-summary">
              <h3>Summary</h3>
              <table class="summary-table">
                <tr><th>Goal</th><td>${data.goals || 'N/A'}</td></tr>
                <tr><th>Fitness Level</th><td>${data.fitnessLevel || 'N/A'}</td></tr>
                <tr><th>Body Focus</th><td>${data.bodyFocus || 'N/A'}</td></tr>
                <tr><th>Days/Week</th><td>${data.daysPerWeek || 'N/A'}</td></tr>
                <tr><th>Weeks</th><td>${data.planDurationWeeks || 'N/A'}</td></tr>
              </table>
            </div></div>`;
          break;
          
        case 'exerciseDetails':
          if (!data.name) {
            return '<p>Invalid exercise details data structure.</p>';
          }
          html = `<div class="result-card">
            <h2 class="result-title-large">${data.name}</h2>
            <p><strong>Muscle Groups:</strong> ${Array.isArray(data.muscleGroups) ? data.muscleGroups.join(', ') : (data.muscleGroups || 'N/A')}</p>
            <p><strong>Equipment:</strong> ${data.equipment || 'N/A'}</p>
            <p><strong>Instructions:</strong> ${data.instructions || 'N/A'}</p>
            <p><strong>Difficulty:</strong> ${data.difficulty || 'N/A'}</p>
            <p><strong>Tips:</strong> <ul>${Array.isArray(data.tips) ? data.tips.map(tip => `<li>${tip}</li>`).join('') : '<li>No tips available</li>'}</ul></p>
            ${data.variations ? `<p><strong>Variations:</strong> ${Array.isArray(data.variations) ? data.variations.join(', ') : data.variations}</p>` : ''}</div>`;
          break;
          
        case 'nutritionMealPlan':
          if (!data.macros || !data.recommendations || !data.recommendations.mealPlan) {
            return '<p>Invalid nutrition meal plan data structure.</p>';
          }
          html = `<div class="result-card">
            <h2 class="result-title-large">Nutrition & Meal Plan</h2>
                       <p><strong>Macros:</strong> Protein: ${data.macros.protein || 0}g, Fat: ${data.macros.fat || 0}g, Carbs: ${data.macros.carbs || 0}g, Total: ${data.macros.totalCalories || 0}kcal</p>`;
          if (Array.isArray(data.recommendations.mealPlan)) {
            html += data.recommendations.mealPlan.map(day => {
              if (!day.meals || !Array.isArray(day.meals)) return '';
              return `<div class="result-table-container">
                <table class="result-table">
                  <thead><tr><th colspan="6">${day.day || 'Day'}</th></tr><tr><th>Meal</th><th>Food</th><th>Calories</th><th>Protein (g)</th><th>Fat (g)</th><th>Carbs (g)</th></tr></thead>
                  <tbody>
                    ${day.meals.map(meal => {
                      if (!meal.foods || !Array.isArray(meal.foods)) return '';
                      return meal.foods.map(food => `
                        <tr>
                          <td>${meal.mealName || 'Meal'}</td>
                          <td>${food.name || 'Food'}</td>
                          <td>${food.calories || 0}</td>
                          <td>${food.protein || 0}</td>
                          <td>${food.fat || 0}</td>
                          <td>${food.carbs || 0}</td>
                        </tr>`).join('');
                    }).join('')}
                  </tbody>
                </table>
              </div>`;
            }).join('');
          }
          html += `<div class="pie-chart-container"><canvas id="nutrition-chart"></canvas></div>
            </div>`;
          break;
          
        case 'analyzeFoodPlate':
          if (!data.foods || !Array.isArray(data.foods)) {
            return '<p>Invalid food plate analysis data structure.</p>';
          }
          const getQualityClass = (foodName) => {
            const highQuality = ['tallow', 'lard', 'butter', 'ghee', 'olive oil', 'avocado oil', 'mixed berries'];
            const lowQuality = ['vegetable oil', 'canola oil', 'sunflower oil', 'soybean oil', 'corn oil', 'wheat', 'corn', 'cane sugar', 'gmo'];
            foodName = foodName.toLowerCase();
            if (highQuality.some(item => foodName.includes(item))) {
              return { class: 'quality-high', label: 'High Quality' };
            } else if (lowQuality.some(item => foodName.includes(item)) || foodName.includes('pancakes')) {
              return { class: 'quality-low', label: 'Low Quality' };
            } else {
              return { class: 'quality-medium', label: 'Medium Quality' };
            }
          };
          html = `<div class="result-card">
            <h2 class="result-title-large">${data.title || 'Food Plate Analysis'}</h2>
            <table class="result-table">
              <thead><tr><th>Food</th><th>Calories</th><th>Protein (g)</th><th>Fat (g)</th><th>Carbs (g)</th><th>Quality</th></tr></thead>
              <tbody>
                ${data.foods.map(food => {
                  const quality = getQualityClass(food.name);
                  return `
                    <tr>
                      <td><span class="quality-marker ${quality.class}"></span>${food.name || 'Food'}</td>
                      <td>${food.calories || 0}</td>
                      <td>${food.protein || 0}</td>
                      <td>${food.fat || 0}</td>
                      <td>${food.carbs || 0}</td>
                      <td>${quality.label}</td>
                    </tr>`;
                }).join('')}
              </tbody>
            </table>
            <div class="pie-chart-container"><canvas id="food-chart"></canvas></div>
          </div>`;
          break;
          
        case 'foodIngredientDirectory':
          if (!data.ingredients || !Array.isArray(data.ingredients)) {
            if (data.name) {
              const ing = data;
              html = `
                <div class="ingredient-card">
                  <div class="card-header">
                    <h3>${ing.name || 'Ingredient'}</h3>
                  </div>
                  <div class="tag-section">
                    <span class="ingredient-tag category">${ing.category || 'N/A'}</span>
                    <span class="ingredient-tag origin">${ing.origin || 'N/A'}</span>
                    <span class="ingredient-tag safety">${ing.safety_rating || 'N/A'}</span>
                  </div>
                  <div class="main-info" style="padding: 15px 20px;">
                    <p><strong>Definition:</strong> ${ing.definition || 'N/A'}</p>
                    <p><strong>In Plain English:</strong> ${ing.layman_term || 'N/A'}</p>
                    <p><strong>Production:</strong> ${ing.production_process || 'N/A'}</p>
                    <p><strong>Common Uses:</strong> ${ing.example_use || 'N/A'}</p>
                    ${ing.health_insights ? `<p><strong>Health Insights:</strong> ${ing.health_insights}</p>` : ''}
                    ${ing.nutritional_profile ? `<p><strong>Nutritional Profile:</strong> ${ing.nutritional_profile}</p>` : ''}
                    ${ing.commonly_found_in ? `<p><strong>Commonly Found In:</strong> ${ing.commonly_found_in}</p>` : ''}
                  </div>
                </div>`;
            } else {
              return '<p>Invalid food ingredient directory data structure.</p>';
            }
          } else {
            html = data.ingredients.map(ing => `
              <div class="ingredient-card">
                <div class="card-header">
                  <h3>${ing.name || 'Ingredient'}</h3>
                </div>
                <div class="tag-section">
                  <span class="ingredient-tag category">${ing.category || 'N/A'}</span>
                  <span class="ingredient-tag origin">${ing.origin || 'N/A'}</span>
                  <span class="ingredient-tag safety">${ing.safety_rating || 'N/A'}</span>
                </div>
                <div class="main-info" style="padding: 15px 20px;">
                  <p><strong>Definition:</strong> ${ing.definition || 'N/A'}</p>
                  <p><strong>In Plain English:</strong> ${ing.layman_term || 'N/A'}</p>
                  <p><strong>Production:</strong> ${ing.production_process || 'N/A'}</p>
                  <p><strong>Common Uses:</strong> ${ing.example_use || 'N/A'}</p>
                  ${ing.health_insights ? `<p><strong>Health Insights:</strong> ${ing.health_insights}</p>` : ''}
                  ${ing.nutritional_profile ? `<p><strong>Nutritional Profile:</strong> ${ing.nutritional_profile}</p>` : ''}
                  ${ing.commonly_found_in ? `<p><strong>Commonly Found In:</strong> ${ing.commonly_found_in}</p>` : ''}
                </div>
              </div>`).join('');
          }
          break;
          
        case 'naturalRemedies':
          if (!data.remedies || !Array.isArray(data.remedies)) {
            return '<p>Invalid natural remedies data structure.</p>';
          }
          html = `<div class="result-card">
            <h2 class="result-title-large">Natural Remedies for ${data.symptom || 'Condition'}</h2>
            ${data.remedies.map(remedy => {
              if (!remedy) return '';
              return `<div class="remedy-card">
                <div class="remedy-header">
                  <div class="remedy-title">${remedy.name || 'Remedy'}</div>
                  <div class="remedy-source">${remedy.source || 'Traditional'}</div>
                </div>
                <div class="remedy-body">
                  <div class="remedy-section">
                    <span class="remedy-section-title">Ingredients:</span>
                    <p>${Array.isArray(remedy.ingredients) ? 
                      remedy.ingredients.map(i => typeof i === 'object' ? `${i.name || 'Ingredient'} (${i.amount || 'as needed'})` : i).join(', ') : 
                      (remedy.ingredients || 'N/A')}</p>
                  </div>
                  <div class="remedy-section">
                    <span class="remedy-section-title">Preparation:</span>
                    <p>${Array.isArray(remedy.preparation) ? remedy.preparation.join(' ') : (remedy.preparation || 'N/A')}</p>
                  </div>
                  <div class="remedy-section">
                    <span class="remedy-section-title">Usage:</span>
                    <p>${remedy.usage || 'N/A'}</p>
                  </div>
                  ${remedy.warnings ? `
                    <div class="remedy-warning">
                      <span class="remedy-warning-title">Warnings:</span>
                      <p>${Array.isArray(remedy.warnings) ? remedy.warnings.join(', ') : remedy.warnings}</p>
                    </div>` : ''}
                  ${remedy.notes ? `
                    <div class="remedy-notes">
                      <p><strong>Notes:</strong> ${remedy.notes}</p>
                    </div>` : ''}
                </div>
              </div>`;
            }).join('')}
          </div>`;
          break;
          
        default:
          html = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
      }
      return html;
    }

    function renderCharts(result, endpoint, container) {
      if (!result) return;
      const data = result.data || result;
      if (!data) return;
      
      if (endpoint === 'nutritionMealPlan' && data.macros) {
        const canvas = container.querySelector('#nutrition-chart');
        if (!canvas) return;
        new Chart(canvas, {
          type: 'pie',
          data: {
            labels: ['Protein', 'Fat', 'Carbs'],
            datasets: [{
              data: [
                (data.macros.protein || 0) * 4,
                (data.macros.fat || 0) * 9,
                (data.macros.carbs || 0) * 4
              ],
              backgroundColor: ['#28a745', '#dc3545', '#ffc107']
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'bottom' } }
          }
        });
      } else if (endpoint === 'analyzeFoodPlate' && data.foods && Array.isArray(data.foods)) {
        const canvas = container.querySelector('#food-chart');
        if (!canvas) return;
        const protein = data.foods.reduce((sum, f) => sum + (f.protein || 0) * 4, 0);
        const fat = data.foods.reduce((sum, f) => sum + (f.fat || 0) * 9, 0);
        const carbs = data.foods.reduce((sum, f) => sum + (f.carbs || 0) * 4, 0);
        new Chart(canvas, {
          type: 'pie',
          data: {
            labels: ['Protein', 'Fat', 'Carbs'],
            datasets: [{
              data: [protein, fat, carbs],
              backgroundColor: ['#28a745', '#dc3545', '#ffc107']
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'bottom' } }
          }
        });
      }
    }

    async function handleFormSubmit(formId, resultId, endpoint) {
      const form = document.getElementById(formId);
      const resultContainer = document.getElementById(resultId);
      const resultContent = resultContainer.querySelector('.result-content');
      const statusBadge = resultContainer.querySelector('.status-badge');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const apiKey = localStorage.getItem('apiKey') || 'your_api_key_here'; // Replace with actual default if needed
        const formData = new FormData(form);
        const unitSystem = document.getElementById('unit-system').value;

        if (userProfile.requestsRemaining <= 0 && userProfile.role !== 'admin') {
          resultContainer.classList.add('visible');
          resultContent.innerHTML = '<p>You have exceeded your monthly request limit. Please upgrade your plan.</p>';
          statusBadge.textContent = 'Limit Exceeded';
          statusBadge.className = 'status-badge status-error';
          return;
        }

        resultContainer.classList.add('visible');
        resultContent.innerHTML = '<p>Loading...</p>';
        statusBadge.textContent = 'Processing';
        statusBadge.className = 'status-badge';

        try {
          let response;
          let result;
          
          if (formId === 'food-form') {
            response = await fetch('/api/fitness/analyzeFoodPlate', {
              method: 'POST',
              headers: { 'X-API-Key': apiKey },
              body: formData
            });
          } else {
            let prompt = '';
            if (formId === 'workout-form') {
              const preferences = Array.from(form.querySelectorAll('input[name="preferences"]:checked')).map(el => el.value);
              const muscleGroups = Array.from(form.querySelectorAll('input[name="muscleGroups"]:checked')).map(el => el.value);
              const bodyFocus = formData.get('bodyFocus');
              let bodyFocusPrompt = bodyFocus ? `with ${bodyFocus} focus` : '';
              let daysPerWeek = formData.get('daysPerWeek');
              let planDurationWeeks = formData.get('planDurationWeeks');
              
              if (userProfile.plan === 'essential' && userProfile.role !== 'admin') {
                daysPerWeek = '1';
                planDurationWeeks = '1';
              }
              
              prompt = `Generate a detailed workout plan for a ${formData.get('fitnessLevel')} with goal ${formData.get('goals')}, preferring ${preferences.length ? preferences.join(', ') : 'any'} exercises, ${bodyFocusPrompt}${muscleGroups.length ? ` targeting ${muscleGroups.join(', ')} muscle groups` : ''}, ${formData.get('includeWarmupCooldown') === 'true' ? 'including' : 'excluding'} warm-up and cool-down routines, ${daysPerWeek} days/week, ${formData.get('sessionDuration')} min sessions, over ${planDurationWeeks} week${planDurationWeeks === '1' ? '' : 's'}. ${bodyFocus === 'alternating' ? 'Alternate between upper and lower body workouts.' : ''} Include varied exercises with progression tips. Return JSON: {name: string, goals: string, fitnessLevel: string, bodyFocus: string, daysPerWeek: number, planDurationWeeks: number, days: [{name: string, sessionDuration: number, exercises: [{name: string, sets: number, reps: number, restSeconds: number, muscleGroup: string}]}]}`;
            } else if (formId === 'exercise-form') {
              prompt = `Provide detailed info for "${formData.get('exerciseId')}". Include muscleGroups (array), equipment (string), instructions (string), difficulty (string), tips (array), and if ${formData.get('includeVariations') === 'true'}, variations (array). Return JSON: {name, muscleGroups, equipment, instructions, difficulty, tips, variations?}`;
            } else if (formId === 'nutrition-meal-form') {
              let weight = parseFloat(formData.get('weight'));
              let heightCm;
              if (unitSystem === 'imperial') {
                weight *= LB_TO_KG;
                heightCm = (parseFloat(formData.get('heightFeet')) * 12 + parseFloat(formData.get('heightInches'))) * IN_TO_CM;
              } else {
                heightCm = parseFloat(formData.get('heightCm'));
              }
              const allergies = Array.from(form.querySelectorAll('input[name="allergies"]:checked')).map(el => el.value);
              let numberOfDays = formData.get('numberOfDays');
              
              if (userProfile.plan === 'essential' && userProfile.role !== 'admin') {
                numberOfDays = '1';
              }
              
              prompt = `Generate a ${numberOfDays}-day meal plan for a ${formData.get('gender')}, age ${formData.get('age')}, weight ${weight} kg, height ${heightCm} cm, ${formData.get('activityLevel')} activity, aiming for ${formData.get('goals')} with a ${formData.get('dietType')} diet, targeting ${formData.get('calorieTarget')} calories/day, ${formData.get('mealsPerDay')} meals/day. Account for allergies (${allergies.length ? allergies.join(', ') : 'none'}) and religious preferences (${formData.get('religiousPreferences') || 'none'}). Return JSON: {macros: {protein, fat, carbs, totalCalories}, recommendations: {general: string, keyPoints: [string], mealPlan: [{day: string, meals: [{mealName: string, foods: [{name, calories, protein, fat, carbs}]}]}]}}`;
            } else if (formId === 'food-ingredient-directory-form') {
              prompt = `Provide detailed info for "${formData.get('ingredient')}". Include definition, layman_term, production_process, example_use, health_insights, nutritional_profile, commonly_found_in. Return JSON: {name, category, origin, safety_rating, definition, layman_term, production_process, example_use, health_insights, nutritional_profile, commonly_found_in}`;
            } else if (formId === 'natural-remedies-form') {
              prompt = `Provide specific natural remedies for "${formData.get('symptom')}" using a ${formData.get('approach')} approach. Return JSON: {symptom, approach, remedies: [{name, source, ingredients, preparation, usage, warnings, notes}]} with detailed, actionable instructions.`;
            }
            response = await fetch('/api/anthropic', {
              method: 'POST',
              headers: { 'X-API-Key': apiKey, 'Content-Type': 'application/json' },
              body: JSON.stringify({ prompt })
            });
          }
          
          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }
          
          try {
            result = await response.json();
          } catch (parseError) {
            throw new Error('Failed to parse API response: ' + parseError.message);
          }
          
          if (!result) {
            throw new Error('Empty response from API');
          }
          
          if (result.error) {
            throw new Error(result.error.message || 'API returned an error');
          }
          
          resultContent.innerHTML = formatResult(result, endpoint);
          statusBadge.textContent = 'Success';
          statusBadge.className = 'status-badge status-success';
          
          if (userProfile.role !== 'admin') {
            userProfile.requestsRemaining--;
            localStorage.setItem('userProfile', JSON.stringify(userProfile));
          }
          
          if (response.ok && (endpoint === 'nutritionMealPlan' || endpoint === 'analyzeFoodPlate')) {
            setTimeout(() => renderCharts(result, endpoint, resultContent), 100);
          }
        } catch (error) {
          console.error('Error:', error);
          resultContent.innerHTML = `<p>Error: ${error.message}</p>`;
          statusBadge.textContent = 'Error';
          statusBadge.className = 'status-badge status-error';
        }
      });
    }

    function copyResult(resultId) {
      const content = document.getElementById(resultId).querySelector('.result-content').innerText;
      navigator.clipboard.writeText(content).then(() => {
        alert('Copied to clipboard!');
      }).catch(err => {
        console.error('Copy failed:', err);
      });
    }

    function printResult(resultId) {
      const content = document.getElementById(resultId).querySelector('.result-content').innerHTML;
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <html>
          <head><title>Print</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              table { border-collapse: collapse; width: 100%; }
              th, td { border: 1px solid #ddd; padding: 8px; }
              th { background-color: #1ECBE1; color: white; }
              .quality-marker { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; vertical-align: middle; }
              .quality-high { background-color: #28a745; }
              .quality-medium { background-color: #ffc107; }
              .quality-low { background-color: #dc3545; }
              .remedy-card { margin-bottom: 20px; border: 1px solid #eee; }
              .remedy-header { background-color: #f0ebff; padding: 10px; }
              .remedy-title { color: #6b48ff; }
              .ingredient-card { margin-bottom: 20px; border: 1px solid #eee; }
              .card-header { background-color: #f9f9f9; padding: 10px; }
            </style>
          </head>
          <body>${content}</body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();
    }

    handleFormSubmit('workout-form', 'workout-result', 'generateWorkoutPlan');
    handleFormSubmit('exercise-form', 'exercise-result', 'exerciseDetails');
    handleFormSubmit('nutrition-meal-form', 'nutrition-meal-result', 'nutritionMealPlan');
    handleFormSubmit('food-form', 'food-result', 'analyzeFoodPlate');
    handleFormSubmit('food-ingredient-directory-form', 'food-ingredient-directory-result', 'foodIngredientDirectory');
    handleFormSubmit('natural-remedies-form', 'natural-remedies-result', 'naturalRemedies');

    document.addEventListener('DOMContentLoaded', async () => {
      const tabs = document.querySelectorAll('.tab-button');
      const contents = document.querySelectorAll('.tab-content');
      const sidebarItems = document.querySelectorAll('.tab-trigger');
      const apiKeyInput = document.getElementById('api-key');
      const saveApiKeyBtn = document.getElementById('save-api-key');
      const modal = document.getElementById('subscription-modal');
      const monthlyToggle = document.getElementById('monthly-toggle');
      const yearlyToggle = document.getElementById('yearly-toggle');
      const monthlyPlans = document.getElementById('monthly-plans');
      const yearlyPlans = document.getElementById('yearly-plans');
      const menuToggle = document.getElementById('menu-toggle');
      const sidebar = document.getElementById('sidebar');
      const foodImageInput = document.getElementById('food_image');
      const foodImagePreview = document.getElementById('food-image-preview');

      const savedApiKey = localStorage.getItem('apiKey');
      if (savedApiKey) {
        apiKeyInput.value = savedApiKey;
        await fetchUserProfile(savedApiKey);
      }

      saveApiKeyBtn.addEventListener('click', async () => {
        const apiKey = apiKeyInput.value.trim();
        if (apiKey) {
          localStorage.setItem('apiKey', apiKey);
          await fetchUserProfile(apiKey);
          alert('API Key saved successfully!');
        } else {
          alert('Please enter a valid API Key.');
        }
      });

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          contents.forEach(c => c.classList.remove('active'));
          tab.classList.add('active');
          document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
          sidebarItems.forEach(item => {
            item.classList.remove('active');
            if (item.dataset.tab === tab.dataset.tab) item.classList.add('active');
          });
        });
      });

      sidebarItems.forEach(item => {
        item.addEventListener('click', (e) => {
          e.preventDefault();
          sidebarItems.forEach(i => i.classList.remove('active'));
          item.classList.add('active');
          tabs.forEach(t => {
            t.classList.remove('active');
            if (t.dataset.tab === item.dataset.tab) t.classList.add('active');
          });
          contents.forEach(c => {
            c.classList.remove('active');
            if (c.id === `${item.dataset.tab}-tab`) c.classList.add('active');
          });
        });
      });

      unitSystemSelect.addEventListener('change', () => {
        const isImperial = unitSystemSelect.value === 'imperial';
        document.querySelector('.imperial-height').style.display = isImperial ? 'block' : 'none';
        document.querySelector('.metric-height').style.display = isImperial ? 'none' : 'block';
        document.getElementById('weight-label').textContent = isImperial ? 'Weight (lbs):' : 'Weight (kg):';
        document.getElementById('height_feet').required = isImperial;
        document.getElementById('height_inches').required = isImperial;
        document.getElementById('height_cm').required = !isImperial;
      });

      monthlyToggle.addEventListener('click', () => {
        monthlyToggle.classList.add('active');
        yearlyToggle.classList.remove('active');
        monthlyPlans.style.display = 'flex';
        yearlyPlans.style.display = 'none';
      });

      yearlyToggle.addEventListener('click', () => {
        yearlyToggle.classList.add('active');
        monthlyToggle.classList.remove('active');
        yearlyPlans.style.display = 'flex';
        monthlyPlans.style.display = 'none';
      });

      menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
        menuToggle.textContent = sidebar.classList.contains('collapsed') ? '☰' : '✕';
      });

      document.getElementById('sidebar-subscribe-btn').addEventListener('click', e => {
        e.preventDefault();
        modal.style.display = 'block';
      });
      document.getElementById('auth-subscribe-btn').addEventListener('click', e => {
        e.preventDefault();
        modal.style.display = 'block';
      });
      document.querySelector('.close').addEventListener('click', () => {
        modal.style.display = 'none';
      });
      window.addEventListener('click', e => {
        if (e.target === modal) modal.style.display = 'none';
      });

      document.querySelectorAll('.plan-select-btn').forEach(btn => {
        btn.addEventListener('click', async () => {
          const plan = btn.dataset.plan.split('-')[0]; // Extract base plan name (e.g., 'core' from 'core-yearly')
          if (plan === 'essential') {
            userProfile.plan = 'essential';
            userProfile.requestsRemaining = 10;
            localStorage.setItem('userProfile', JSON.stringify(userProfile));
            updateDropdownOptions();
            modal.style.display = 'none';
            window.location.href = '/fitness/subscribe?plan=essential'; // Redirect to free plan signup
          } else {
            try {
              const response = await fetch('/api/create-checkout-session', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ planId: btn.dataset.plan }) // Send full plan (e.g., 'core-yearly')
              });
              if (!response.ok) throw new Error('Failed to create checkout session');
              const { id } = await response.json();
              stripe.redirectToCheckout({ sessionId: id });
            } catch (error) {
              console.error('Error creating checkout session:', error);
              alert('Failed to initiate subscription. Please try again.');
            }
          }
        });
      });

      foodImageInput.addEventListener('change', () => {
        const file = foodImageInput.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            foodImagePreview.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; height: auto; margin-top: 10px; border-radius: 8px;" alt="Food Preview" />`;
          };
          reader.readAsDataURL(file);
        } else {
          foodImagePreview.innerHTML = '';
        }
      });
    });
  </script>
</body>
</html>